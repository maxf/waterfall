<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="main.css"/>
  </head>
  <body>
    <div id="main"></div>
    <script src="socialise.js"></script>
    <script>
     var node = document.getElementById('main');
     var app = Elm.Main.embed(node);
     var localStorage = window.localStorage;

     app.ports.localStorageSetItem.subscribe(function(keyValuePair) {
       if (keyValuePair.length !== 2) {
         console.log("bad value passed to localStorageSetItem port", key)
       } else {
         localStorage.setItem(keyValuePair[0], keyValuePair[1]);
       }
     });

     app.ports.localStorageRemoveItem.subscribe(function(keyName) {
       localStorage.removeItem(keyName);
     });

     app.ports.localStorageGetItem.subscribe(function(keyName) {
       var value = localStorage.getItem(keyName);
       app.ports.localStorageRetrievedItem.send([keyName, value]);
     });
    </script>
  </body>
</html>
